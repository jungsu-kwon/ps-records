{"id":447355869,"lang":"python3","time":"6 months, 1 week","timestamp":1611527918,"status_display":"Accepted","runtime":"1036 ms","url":"/submissions/detail/447355869/","is_pending":"Not Pending","title":"Shortest Distance from All Buildings","memory":"14.8 MB","code":"from collections import defaultdict\nclass Solution:\n    def shortestDistance(self, grid: List[List[int]]) -> int:\n        houses = []\n        height,width = len(grid),len(grid[0])\n        for i in range(height):\n            for j in range(width):\n                if grid[i][j] == 1:\n                    houses.append((i,j))\n\n        computeMin = False\n        distDict = defaultdict(lambda: (0,0)) \n        minDist = float(inf)\n        for i,house in enumerate(houses):\n            bfs = [house]\n            visited = set()\n\n            dist = 0\n            if i == len(houses)-1:\n                computeMin = True\n            while bfs:\n                n = len(bfs)\n\n                for i in range(n):\n                    i,j = bfs.pop(0)\n                    \n                    if (i,j) in visited:\n                        continue\n                    for neighbor in [(i+1,j),(i-1,j),(i,j+1),(i,j-1)]:\n                        \n                        if neighbor[0] < 0 or neighbor[0] >= height:\n                            continue\n                        if neighbor[1] < 0 or neighbor[1] >= width:\n                            continue\n                        if grid[neighbor[0]][neighbor[1]] == 0:\n                            bfs.append(neighbor)\n                            \n                    if grid[i][j] == 0:\n                        d,count = distDict[(i,j)]\n                        distDict[(i,j)] = (d+dist,count+1)\n                        if computeMin and distDict[(i,j)][1] == len(houses):\n                            minDist = min(minDist,distDict[(i,j)][0])\n\n                    visited.add((i,j))\n                    \n                dist += 1 \n\n        if minDist == float(inf):\n            return -1\n        return minDist\n\n\n\n\n\n\n\n\n\n\n\n        ","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"shortest-distance-from-all-buildings"}