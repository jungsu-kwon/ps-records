{"id":317247934,"lang":"python3","time":"1 year, 4 months","timestamp":1585517855,"status_display":"Accepted","runtime":"708 ms","url":"/submissions/detail/317247934/","is_pending":"Not Pending","title":"Word Search","memory":"15.5 MB","code":"class Solution:\n    def valid_children(self,r,c,target):\n        children = [(r1,c1) for r1 in range(r-1,r+2)\n                            for c1 in range(c-1,c+2)\n                            if (-1<r1<self.rows and\n                                -1<c1<self.cols and\n                                not (r1,c1) in self.visited and\n                                int(r1 == r) + int (c1 == c) == 1 and\n                                self.board[r1][c1] == target)]\n        return children\n        \n    def backtrack(self,r,c,first=0):\n        if self.board[r][c] != self.word[first] : \n            return False\n\n        if first == self.n-1:\n            return True\n        \n        valid_children = self.valid_children(r,c,self.word[first+1])\n        if not valid_children : \n            return False\n        for child in valid_children:\n            self.visited.add(child)\n            child_r,child_c = child\n            if self.backtrack(child_r,child_c,first=first+1):\n                return True\n            self.visited.remove(child)\n        return False\n\n\n        \n    def exist(self,board,word):\n        self.rows = len(board)\n        self.cols = len(board[0])\n        self.n = len(word)\n        self.word,self.board = word,board\n        # basic validity check\n        if self.rows * self.cols < self.n : \n            return False\n        self.visited = set([])\n        for r in range(self.rows):\n            for c in range(self.cols):\n                self.visited.add((r,c))\n                if self.backtrack(r,c):\n                    return True\n                self.visited.remove((r,c))\n        return False\n        ","compare_result":"11111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"word-search"}