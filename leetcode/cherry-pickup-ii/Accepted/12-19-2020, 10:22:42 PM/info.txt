{"id":432266274,"lang":"python3","time":"7 months, 2 weeks","timestamp":1608384162,"status_display":"Accepted","runtime":"2668 ms","url":"/submissions/detail/432266274/","is_pending":"Not Pending","title":"Cherry Pickup II","memory":"15.2 MB","code":"class Solution:\n    def pick_cherry(self,state):\n        if state[0] == state[1] :\n            return self.grid[self.row_ind+1][state[0]]\n        return self.grid[self.row_ind+1][state[0]] + self.grid[self.row_ind+1][state[1]]\n\n    def inside_grid(self,cand):\n        if cand[0] >= 0 and \\\n           cand[0] < self.num_cols and \\\n           cand[1] >= 0 and \\\n           cand[1] < self.num_cols:\n            return True\n        return False\n\n\n    def get_valid_children(self,state,val):\n\n        valid_children = []\n        for offset1 in range(-1,2):\n            for offset2 in range(-1,2):\n                cand = (state[0]+offset1,state[1]+offset2)\n                if self.inside_grid(cand):                    \n                    valid_children.append((cand,self.pick_cherry(cand)+val))\n        return valid_children\n\n\n    def cherryPickup(self, grid: List[List[int]]) -> int:\n        self.num_rows,self.num_cols = len(grid),len(grid[0])\n        states = {(0,self.num_cols-1):grid[0][0] + grid[0][self.num_cols-1]}\n        self.grid = grid\n        self.row_ind = 0\n\n        while self.row_ind != self.num_rows -1  :\n            new_state = {}\n            for state,val in states.items():\n                valid_children = self.get_valid_children(state,val)\n                for child in valid_children:\n                    if child[0] in new_state : \n                        new_state[child[0]] = max(child[1],new_state[child[0]])\n                    else :\n                        new_state[child[0]] = child[1]\n            self.row_ind += 1 \n            states = new_state \n\n        return max(states.values())\n\n                \n        ","compare_result":"1111111111111111111111111111111111111111111111111111111111","title_slug":"cherry-pickup-ii"}